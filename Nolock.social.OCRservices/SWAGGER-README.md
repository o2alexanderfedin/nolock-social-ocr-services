# Swagger UI for OCR Services

## Overview
Swagger UI has been successfully integrated into the OCR Services API to provide interactive API documentation and testing capabilities.

## Accessing Swagger UI

When running the application in Development mode, Swagger UI is available at:

- **Swagger UI**: `https://localhost:[PORT]/swagger`
- **OpenAPI JSON**: `https://localhost:[PORT]/swagger/v1/swagger.json`

Replace `[PORT]` with your application's port number (typically 5000 for HTTP or 5001 for HTTPS).

## Features

### Available Endpoints

1. **PUT /ocr/sync**
   - Placeholder for synchronous OCR processing
   - Currently returns the provided type parameter

2. **POST /ocr/async**
   - Asynchronous OCR processing with document type recognition
   - **Required Query Parameter**: `documentType` (check | receipt)
   - **Request Body**: Binary image data (application/octet-stream)
   - **Response**: Structured OCR data based on document type

### Using Swagger UI

1. Navigate to the Swagger UI URL
2. Click on an endpoint to expand it
3. Click "Try it out" to enable testing
4. For `/ocr/async`:
   - Select document type from dropdown (check or receipt)
   - Upload an image file
   - Click "Execute"
5. View the response in the UI

## Configuration

Swagger is configured to run only in Development mode by default. To enable it in other environments:

1. Add to `appsettings.json`:
```json
{
  "EnableSwagger": true
}
```

2. Update `Program.cs`:
```csharp
var enableSwagger = builder.Configuration.GetValue<bool>("EnableSwagger");
if (app.Environment.IsDevelopment() || enableSwagger)
{
    app.UseSwagger();
    app.UseSwaggerUI();
}
```

## API Response Models

The API uses strongly-typed response models for better documentation:

- **OcrAsyncResponse**: Contains OCR text, extracted data, confidence score, and processing time
- Error responses follow the standard Problem Details format

## Testing with cURL

You can also test the API using the cURL commands generated by Swagger UI:

```bash
# Example: Process a check image
curl -X POST "https://localhost:5001/ocr/async?documentType=check" \
  -H "accept: application/json" \
  -H "Content-Type: application/octet-stream" \
  --data-binary "@check-image.png"
```

## Development Notes

- Swagger documentation is automatically generated from endpoint metadata
- Response types are inferred from the strongly-typed models
- The API supports both successful responses and standardized error responses